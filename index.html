<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You ðŸ’–</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
  width:100vw;
  height:100vh;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
  font-family:'Segoe UI',sans-serif;
  overflow:hidden;
  position:relative;
}

/* HEARTS */
.heart{
  position:absolute;
  bottom:-20px;
  font-size:18px;
  opacity:0.5;
  animation:float 8s linear forwards;
  z-index:0;   /* ðŸ”¥ hearts BACKGROUND */
  pointer-events:none; /* ðŸ”¥ no disturbance */
}

@keyframes float{
  from{transform:translateY(0);opacity:0;}
  10%{opacity:1;}
  to{transform:translateY(-120vh);opacity:0;}
}

/* COMMON */
.screen{
  width:100%;
  height:100%;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  text-align:center;
  z-index:2;
}
.hidden{display:none;}

#typing{
  font-size:18px;
  line-height:1.6;
  color:#3b001f;
  max-width:90%;
}

/* BUTTONS */
.btnRow{
  display:flex;
  gap:25px;
  margin-top:20px;
}
button{
  padding:12px 32px;
  font-size:17px;
  border:none;
  border-radius:30px;
  cursor:pointer;
}
#yes{background:#ff3f7f;color:#fff;}
#no{
  background:#555;
  color:#fff;
  position:relative;   /* âœ… FIX: no overlap */
}

/* MEDIA */
video,img{
  width:100vw;
  height:100vh;
  object-fit:contain;
  background:black;
  z-index:2;          /* ðŸ”¥ ABOVE HEARTS */
  position:relative;
}


#loading{
  font-size:22px;
  color:#3b001f;
}

  .screen{
  position:relative;
  z-index:3;   /* ðŸ”¥ TOP MOST */
}

</style>
</head>

<body>

<!-- STEP 1 -->
<div id="step0" class="screen">
  <h2>Will you stay till the end? ðŸ’•</h2>
  <div class="btnRow">
    <button id="yes">YES</button>
    <button id="no">NO</button>
  </div>
</div>

<div id="textScreen" class="screen hidden">
  <div id="typing"></div>
</div>

<div id="videoScreen" class="hidden">
  <video id="vid" src="video.mp4"></video>
</div>

<div id="photoScreen" class="hidden">
  <img id="photo">
</div>

<div id="loadingScreen" class="screen hidden">
  <div id="loading">Loading...</div>
</div>

<audio id="bgm" src="bgm.mp3" loop></audio>
<audio id="final" src="final.mp3"></audio>

<script>
const yes=document.getElementById("yes");
const no=document.getElementById("no");
const bgm=document.getElementById("bgm");
const final=document.getElementById("final");
const typing=document.getElementById("typing");
const vid=document.getElementById("vid");

let photos=[
 "photo1.jpg","photo2.jpg","photo3.jpg",
 "photo4.jpg","photo5.jpg","photo6.jpg","photo7.jpg"
];

/* NO BUTTON CLICK â†’ JUMP */
no.onclick=()=>{
  no.style.position="fixed";   // âœ… FIX
  no.style.left=Math.random()*(innerWidth-100)+"px";
  no.style.top=Math.random()*(innerHeight-60)+"px";
};

/* YES CLICK */
yes.onclick = () => {

  // hide first screen
  document.getElementById("step0").classList.add("hidden");

  // ðŸ”¥ AUTOPLAY FIX (100% working on mobile)
  bgm.muted = true;
  bgm.currentTime = 0;

  bgm.play().then(()=>{
    bgm.muted = false;   // unmute after start
    bgm.volume = 0.7;
  }).catch(err=>{
    console.log("Audio blocked", err);
  });

  // continue flow
  showLine("HAPPY ANNIVERSARY RA â™¥ï¸", playVideo);
};


function showLine(text,next){
  textScreen.classList.remove("hidden");
  typing.innerHTML="";
  let i=0;
  let t=setInterval(()=>{
    typing.innerHTML+=text[i++];
    if(i>=text.length){
      clearInterval(t);
      setTimeout(next,2000);
    }
  },90);
}

function playVideo(){
  textScreen.classList.add("hidden");
  videoScreen.classList.remove("hidden");
  vid.play();
  vid.onended=()=>{
    videoScreen.classList.add("hidden");
    longLines();
  };
}

function longLines(){
  let lines=[
   " 156 week's back same day I met this idiotðŸ˜šðŸ¤­...",
"Our journey is unbelievable becoz destiny plan's our journeyðŸ’ŒðŸ«¶ðŸ» ...",
"In this 36 months we understand each other'sðŸ‘ŠðŸ»ðŸ’Ÿ understand me lots but this pandhi...",
"1095 day's have been completed but every second intimates aa pandhiii is Waiting for meðŸ·ðŸ˜‚...",
"Happy 3rd year anniversaryâ™¾ï¸â¤ï¸...",
"May be I'm not perfect for you but you always perfect for me panduâœ¨ðŸ©µ",
"This year 2026 we may not together to celebrate but trust me I'll be with you till our last anniversary in our lifeðŸ’•ðŸ§¬...",
"Thank you for coming into my life unexpectedlyðŸ’ŸðŸ¥¹...",
"I already promised you I'll be your nothingðŸ«³ðŸ»ðŸ’ž",
"May be I'm unlucky in everything but you succeed me in loveðŸ«¶ðŸ»ðŸ’•",
"I never want to loose you in any situationðŸ«³ðŸ»ðŸ’Œ..."
  ];
  typeLines(lines, showPhotos);
}

function typeLines(lines,next){
  textScreen.classList.remove("hidden");
  typing.innerHTML="";
  let i=0,j=0;
  let t=setInterval(()=>{
    typing.innerHTML+=lines[i][j++];
    if(j>=lines[i].length){
      typing.innerHTML+="<br><br>";
      i++; j=0;
      if(i>=lines.length){
        clearInterval(t);
        setTimeout(next,2000);
      }
    }
  },80);
}

/* PHOTOS */
function showPhotos(){
  textScreen.classList.add("hidden");
  photoScreen.classList.remove("hidden");
  let img=photo;
  let p=0;
  img.src=photos[p];
  let slide=setInterval(()=>{
    p++;
    if(p>=photos.length){
      clearInterval(slide);
      afterPhotosLine();
    }else img.src=photos[p];
  },2000);
}

/* LINE AFTER PHOTOS */
function afterPhotosLine(){
  photoScreen.classList.add("hidden");
  showLine("Just one last moment â¤ï¸", showLoading);
}

/* LOADING */
function showLoading(){
  textScreen.classList.add("hidden");
  loadingScreen.classList.remove("hidden");
  setTimeout(()=>{
    loadingScreen.classList.add("hidden");
    lastScene();
  },3000);
}

/* LAST */
function lastScene(){
  photoScreen.classList.remove("hidden");
  photo.src="last.jpg";
  bgm.pause();
  final.play();
}

/* HEARTS */
setInterval(()=>{
  let h=document.createElement("div");
  h.className="heart";
  h.innerText="ðŸ’–";
  h.style.left=Math.random()*100+"vw";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),8000);
},700);
</script>

</body>
</html>
