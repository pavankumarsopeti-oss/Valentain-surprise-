<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You ðŸ’–</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
  width:100vw;
  height:100vh;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
  font-family:'Segoe UI',sans-serif;
  overflow:hidden;
  position:relative;
}

/* BACKGROUND HEARTS */
.heart{
  position:absolute;
  bottom:-20px;
  font-size:18px;
  opacity:0.6;
  animation:float 8s linear forwards;
  z-index:1;
}
@keyframes float{
  from{transform:translateY(0);opacity:0;}
  10%{opacity:1;}
  to{transform:translateY(-120vh);opacity:0;}
}

/* COMMON SCREEN */
.screen{
  width:100%;
  height:100%;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  text-align:center;
  z-index:2;
}
.hidden{display:none;}

/* TEXT */
#typing{
  font-size:18px;
  line-height:1.6;
  color:#3b001f;
  max-width:90%;
}

/* BUTTONS */
.btnRow{
  display:flex;
  gap:25px;
  margin-top:20px;
}
button{
  padding:12px 32px;
  font-size:17px;
  border:none;
  border-radius:30px;
  cursor:pointer;
}
#yes{background:#ff3f7f;color:#fff;}
#no{
  background:#555;
  color:#fff;
  position:fixed; /* REQUIRED for jumping */
}

/* FULL SCREEN MEDIA â€“ NO ZOOM */
video,img{
  width:100vw;
  height:100vh;
  object-fit:contain;   /* NO ZOOM / NO CUT */
  background:black;
}

/* LOADING */
#loading{
  font-size:22px;
  color:#3b001f;
}
</style>
</head>

<body>

<!-- STEP 1 -->
<div id="step0" class="screen">
  <h2>Will you stay till the end? ðŸ’•</h2>
  <div class="btnRow">
    <button id="yes">YES</button>
    <button id="no">NO</button>
  </div>
</div>

<!-- TEXT -->
<div id="textScreen" class="screen hidden">
  <div id="typing"></div>
</div>

<!-- VIDEO -->
<div id="videoScreen" class="hidden">
  <video id="vid" src="video.mp4"></video>
</div>

<!-- PHOTOS -->
<div id="photoScreen" class="hidden">
  <img id="photo">
</div>

<!-- LOADING -->
<div id="loadingScreen" class="screen hidden">
  <div id="loading">Loading...</div>
</div>

<audio id="bgm" src="bgm.mp3" loop preload="auto"></audio>
<audio id="final" src="final.mp3" preload="auto"></audio>

<script>
const yes = document.getElementById("yes");
const no  = document.getElementById("no");
const bgm = document.getElementById("bgm");
const final = document.getElementById("final");
const typing = document.getElementById("typing");
const vid = document.getElementById("vid");

let photos=[
 "photo1.jpg","photo2.jpg","photo3.jpg",
 "photo4.jpg","photo5.jpg","photo6.jpg","photo7.jpg"
];

/* NO BUTTON â€“ CLICK TO JUMP */
no.onclick = ()=>{
  let x = Math.random()*(window.innerWidth-100);
  let y = Math.random()*(window.innerHeight-60);
  no.style.left = x+"px";
  no.style.top  = y+"px";
};

/* YES CLICK */
yes.onclick = ()=>{
  document.getElementById("step0").classList.add("hidden");
  bgm.currentTime = 0;
  bgm.play();
  showLine("I just want you to see this once ðŸ’–", playVideo);
};

/* SINGLE LINE */
function showLine(text,next){
  document.getElementById("textScreen").classList.remove("hidden");
  typing.innerHTML="";
  let i=0;
  let t=setInterval(()=>{
    typing.innerHTML+=text[i++];
    if(i>=text.length){
      clearInterval(t);
      setTimeout(next,2000);
    }
  },90);
}

/* VIDEO */
function playVideo(){
  document.getElementById("textScreen").classList.add("hidden");
  document.getElementById("videoScreen").classList.remove("hidden");
  vid.currentTime=0;
  vid.play();
  vid.onended=()=>{
    document.getElementById("videoScreen").classList.add("hidden");
    longLines();
  };
}

/* MULTI LINES */
function longLines(){
  let lines=[
    "Every moment with you feels special â¤ï¸",
    "You became my safe place ðŸ’•",
    "Days turned into beautiful memories âœ¨",
    "I choose you every single time â™¾ï¸"
  ];
  typeLines(lines, showPhotos);
}

function typeLines(lines,next){
  document.getElementById("textScreen").classList.remove("hidden");
  typing.innerHTML="";
  let i=0,j=0;
  let int=setInterval(()=>{
    typing.innerHTML+=lines[i][j++];
    if(j>=lines[i].length){
      typing.innerHTML+="<br><br>";
      i++; j=0;
      if(i>=lines.length){
        clearInterval(int);
        setTimeout(next,2000);
      }
    }
  },80);
}

/* PHOTOS */
function showPhotos(){
  document.getElementById("textScreen").classList.add("hidden");
  document.getElementById("photoScreen").classList.remove("hidden");
  let img=document.getElementById("photo");
  let p=0;
  img.src=photos[p];
  let slide=setInterval(()=>{
    p++;
    if(p>=photos.length){
      clearInterval(slide);
      finalLine();
    }else{
      img.src=photos[p];
    }
  },2000);
}

/* FINAL LINE */
function finalLine(){
  showLine("One last thing for you â¤ï¸", showLoading);
}

/* LOADING */
function showLoading(){
  document.getElementById("textScreen").classList.add("hidden");
  document.getElementById("loadingScreen").classList.remove("hidden");
  setTimeout(()=>{
    document.getElementById("loadingScreen").classList.add("hidden");
    lastScene();
  },3000);
}

/* LAST PHOTO + FINAL AUDIO */
function lastScene(){
  document.getElementById("photoScreen").classList.remove("hidden");
  document.getElementById("photo").src="last.jpg";
  bgm.pause();
  final.currentTime=0;
  final.play();
}

/* FLOATING HEARTS */
setInterval(()=>{
  let h=document.createElement("div");
  h.className="heart";
  h.innerText="ðŸ’–";
  h.style.left=Math.random()*100+"vw";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),8000);
},700);
</script>

</body>
</html>
